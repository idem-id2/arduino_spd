<UserControl x:Class="HexEditor.SpdDecoder.HpeSmartMemory.HpeSmartMemoryPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="672" d:DesignWidth="600"
             HorizontalAlignment="Stretch"
             VerticalAlignment="Stretch">
    <Grid HorizontalAlignment="Stretch"
          VerticalAlignment="Stretch">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <ScrollViewer Grid.Row="0"
                      VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Stretch">
            <StackPanel x:Name="MainContainer"
                        HorizontalAlignment="Stretch"
                        Margin="12">
                
                <!-- Заголовок -->
                <TextBlock Text="HPE SmartMemory Information"
                           FontSize="16"
                           FontWeight="Bold"
                           Margin="0,0,0,16"
                           Foreground="{StaticResource PrimaryTextBrush}"/>
                
                <!-- Информация о модуле -->
                <Border Style="{StaticResource SectionBlockStyle}"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="MODULE INFORMATION"
                                   Style="{StaticResource CardTitleStyle}"/>
                        
                        <!-- HPT Marker -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraEvenBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="HptMarkerLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="HPT Marker"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="HptMarkerValue"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"/>
                        </Grid>
                        
                        <!-- Secure ID -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraOddBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="SecureIdLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Secure ID"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="SecureIdValue"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"/>
                        </Grid>
                        
                        <!-- HPE Part Number -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraEvenBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="HpePartNumberLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="HPE Part Number"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="HpePartNumberValue"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     FontFamily="Consolas"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Sensor Registers -->
                <Border Style="{StaticResource SectionBlockStyle}"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="SENSOR REGISTERS"
                                   Style="{StaticResource CardTitleStyle}"/>
                        
                        <!-- Режим -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraEvenBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="ModeLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Режим"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="ModeValue"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"/>
                        </Grid>
                        
                        <!-- Модель -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraOddBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="PresetLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Модель"
                                     IsReadOnly="True"/>
                            <ComboBox x:Name="PresetComboBox"
                                      Grid.Column="1"
                                      SelectionChanged="PresetComboBox_SelectionChanged"
                                      Margin="4,2,4,2"
                                      VerticalContentAlignment="Center">
                                <ComboBoxItem Content="—" Tag=""/>
                                <ComboBoxItem Content="S34TS04A - Ablic (1C85, 2221)" Tag="1C85,2221"/>
                                <ComboBoxItem Content="STTS2004 - STMicroelectronics (104A, 2201)" Tag="104A,2201"/>
                                <ComboBoxItem Content="MCP98244 - Microchip (0054, 2201)" Tag="0054,2201"/>
                                <ComboBoxItem Content="TSE2004GB2B0 - Renesas (00F8, EE25)" Tag="00F8,EE25"/>
                            </ComboBox>
                        </Grid>
                        
                        <!-- Sensor Register 6 -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraEvenBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="SensorReg6Label"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Sensor Register 6"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="SensorReg6Value"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     FontFamily="Consolas"/>
                        </Grid>
                        
                        <!-- Sensor Register 7 -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraOddBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="SensorReg7Label"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Sensor Register 7"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="SensorReg7Value"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     FontFamily="Consolas"/>
                        </Grid>
                        
                        <!-- Buttons -->
                        <Grid MinHeight="36" Margin="0,8,0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="ReadRegistersButton"
                                    Grid.Column="0"
                                    Content="Прочитать регистры"
                                    Click="ReadRegistersButton_Click"
                                    Margin="4,2,4,2"
                                    Padding="8,4"
                                    HorizontalAlignment="Stretch"/>
                            <Button x:Name="AutoDetectButton"
                                    Grid.Column="2"
                                    Content="Подобрать автономно"
                                    Click="AutoDetectButton_Click"
                                    Margin="4,2,4,2"
                                    Padding="8,4"
                                    HorizontalAlignment="Stretch"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
                <!-- Encryption ID -->
                <Border Style="{StaticResource SectionBlockStyle}"
                        Margin="0,0,0,12">
                    <StackPanel>
                        <TextBlock Text="ENCRYPTION ID"
                                   Style="{StaticResource CardTitleStyle}"/>
                        
                        <!-- Secure ID from SPD -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraEvenBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="SecureIdFromSpdLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Secure ID (SPD)"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="SecureIdFromSpdValue"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     FontFamily="Consolas"/>
                            <TextBox x:Name="SecureIdMatchValue"
                                     Grid.Column="2"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     HorizontalContentAlignment="Center"
                                     FontWeight="Bold"/>
                        </Grid>
                        
                        <!-- Calculated Encryption ID -->
                        <Grid MinHeight="28" Margin="0,2,0,2" Background="{StaticResource ZebraOddBrush}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="200"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>
                            <TextBox x:Name="CalculatedEncryptionIdLabel"
                                     Grid.Column="0"
                                     Style="{StaticResource SpdInfoLabelStyle}"
                                     Text="Calculated Encryption ID"
                                     IsReadOnly="True"/>
                            <TextBox x:Name="CalculatedEncryptionIdValue"
                                     Grid.Column="1"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     FontFamily="Consolas"/>
                            <TextBox x:Name="CalculatedIdMatchValue"
                                     Grid.Column="2"
                                     Style="{StaticResource SpdInfoValueStyle}"
                                     Text="—"
                                     IsReadOnly="True"
                                     HorizontalContentAlignment="Center"
                                     FontWeight="Bold"/>
                        </Grid>
                        
                        <!-- Buttons -->
                        <Grid MinHeight="36" Margin="0,8,0,2">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="CalculateButton"
                                    Grid.Column="0"
                                    Content="Рассчитать"
                                    Click="CalculateButton_Click"
                                    Margin="4,2,4,2"
                                    Padding="8,4"
                                    HorizontalAlignment="Stretch"/>
                            <Button x:Name="FixSecureIdButton"
                                    Grid.Column="2"
                                    Content="Fix Secure ID"
                                    Click="FixSecureIdButton_Click"
                                    Margin="4,2,4,2"
                                    Padding="8,4"
                                    HorizontalAlignment="Stretch"/>
                        </Grid>
                    </StackPanel>
                </Border>
                
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
